<div class="products-page">
  <!-- Hero Section -->
  <section class="products-hero">
    <div class="hero-content">
      <div class="hero-text">
        <span class="section-tag">Our Collection</span>
        <h1>
          <span class="arabic-text">حلوياتنا الأصيلة</span>
          <span class="english-text">Authentic Tunisian Sweets</span>
        </h1>
        <p class="hero-description">
          Discover our complete collection of handcrafted traditional sweets, 
          made with love using time-honored family recipes and the finest ingredients.
        </p>
      </div>
    </div>
  </section>

  <!-- Filters and Search -->
  <section class="products-filters">
    <div class="container">
      <div class="filters-header">
        <div class="search-container">
          <i class="fas fa-search search-icon"></i>
                    <input 
            type="text" 
            id="search-input"
            class="search-input" 
            placeholder="ابحث عن الحلويات... Search for sweets..."
            [value]="searchTerm"
            (input)="onSearchInput($event)">
        </div>
        <div class="sort-container">
          <label for="sort-select">Sort by:</label>
          <select 
            id="sort-select" 
            class="sort-select"
            [value]="sortBy"
            (change)="onSortChange()">
            <option value="featured">Featured</option>
            <option value="price-low">Price: Low to High</option>
            <option value="price-high">Price: High to Low</option>
            <option value="rating">Highest Rated</option>
            <option value="newest">Newest</option>
          </select>
        </div>
      </div>

      <!-- Category Tabs -->
      <div class="category-tabs">
        <button 
          *ngFor="let category of categories"
          [class]="'category-tab ' + (selectedCategory === category.id ? 'active' : '')"
          (click)="selectCategory(category.id)">
          <span class="category-name">{{ category.name }}</span>
          <span class="category-arabic">{{ category.arabicName }}</span>
          <span class="category-count">({{ category.productCount }})</span>
        </button>
      </div>
    </div>
  </section>

  <!-- Products Grid -->
  <section class="products-grid-section">
    <div class="container">
      <div class="products-count">
        <p>Showing {{ filteredProducts.length }} of {{ products.length }} products</p>
      </div>

      <div class="products-grid">
        <div *ngFor="let product of filteredProducts" class="product-card">
          <!-- Product Image -->
          <div class="product-image">
            <div class="image-placeholder">
              <i class="fas fa-cookie-bite"></i>
            </div>
            
            <!-- Product Badges -->
            <div class="product-badges">
              <span *ngIf="product.isNew" class="badge badge-new">New</span>
              <span *ngIf="product.isFeatured" class="badge badge-featured">Featured</span>
              <span *ngIf="product.isOnSale" class="badge badge-sale">
                -{{ getDiscountPercentage(product.originalPrice!, product.price) }}%
              </span>
              <span *ngIf="product.isPremium" class="badge badge-premium">Premium</span>
            </div>

            <!-- Quick Actions -->
            <div class="product-overlay">
              <div class="quick-actions">
                <button class="quick-action-btn" title="Quick View">
                  <i class="fas fa-eye"></i>
                </button>
                <button class="quick-action-btn" title="Add to Wishlist">
                  <i class="far fa-heart"></i>
                </button>
                <button class="quick-action-btn" title="Compare">
                  <i class="fas fa-balance-scale"></i>
                </button>
              </div>
            </div>
          </div>

          <!-- Product Info -->
          <div class="product-info">
            <div class="product-header">
              <h3 class="product-name">{{ product.name }}</h3>
              <p class="product-arabic-name">{{ product.arabicName }}</p>
            </div>

            <div class="product-rating">
              <div class="stars">
                <i *ngFor="let star of getStars(product.rating)" [class]="star"></i>
              </div>
              <span class="rating-text">{{ product.rating }} ({{ product.reviewCount }} reviews)</span>
            </div>

            <p class="product-description">{{ product.description }}</p>

            <div class="product-details">
              <div class="detail-item">
                <i class="fas fa-weight-hanging"></i>
                <span>{{ product.weight }}</span>
              </div>
              <div class="detail-item">
                <i class="fas fa-calendar-alt"></i>
                <span>{{ product.shelfLife }}</span>
              </div>
            </div>

            <div class="product-footer">
              <div class="product-pricing">
                <span class="current-price">${{ product.price }}</span>
                <span *ngIf="product.originalPrice" class="original-price">${{ product.originalPrice }}</span>
              </div>
              
              <div class="product-actions">
                <button class="btn-quantity">
                  <i class="fas fa-minus" (click)="updateQuantity(product.id, -1)"></i>
                  <span>{{ getProductQuantity(product.id) }}</span>
                  <i class="fas fa-plus" (click)="updateQuantity(product.id, 1)"></i>
                </button>
                <button class="btn-add-cart" (click)="addToCart(product)">
                  <i class="fas fa-cart-plus"></i>
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- No Results -->
      <div *ngIf="filteredProducts.length === 0" class="no-results">
        <div class="no-results-content">
          <i class="fas fa-search"></i>
          <h3>No products found</h3>
          <p>Try adjusting your search or filter criteria</p>
          <button class="btn-primary" (click)="selectedCategory = 'all'; searchTerm = ''; filterProducts()">
            <i class="fas fa-refresh"></i>
            Reset Filters
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Newsletter Section -->
  <section class="newsletter-section">
    <div class="container">
      <div class="newsletter-content">
        <h2>Stay Updated with New Arrivals</h2>
        <p>Be the first to know about our latest sweet creations and special offers</p>
        <div class="newsletter-form">
          <input type="email" placeholder="Enter your email" class="newsletter-input">
          <button class="newsletter-btn">
            <i class="fas fa-bell"></i>
            Notify Me
          </button>
        </div>
      </div>
    </div>
  </section>
</div>
