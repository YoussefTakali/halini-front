<div class="user-profile">
  <div class="profile-header">
    <h1>My Profile</h1>
    <div class="header-actions">
      <button 
        *ngIf="!isEditing" 
        class="edit-btn"
        (click)="toggleEdit()">
        <i class="fas fa-edit"></i>
        Edit Profile
      </button>
      
      <div *ngIf="isEditing" class="edit-actions">
        <button 
          class="cancel-btn"
          (click)="cancelEdit()">
          <i class="fas fa-times"></i>
          Cancel
        </button>
        <button 
          class="save-btn"
          (click)="saveProfile()"
          [disabled]="!isDirty">
          <i class="fas fa-save"></i>
          Save Changes
        </button>
      </div>
    </div>
  </div>

  <div class="profile-content">
    <!-- Profile Picture Section -->
    <div class="profile-picture-section">
      <div class="profile-avatar">
        {{ (userProfile.firstName.charAt(0) + userProfile.lastName.charAt(0)).toUpperCase() }}
      </div>
      <button *ngIf="isEditing" class="change-photo-btn">
        <i class="fas fa-camera"></i>
        Change Photo
      </button>
    </div>

    <!-- Profile Form -->
    <div class="profile-form">
      <div class="form-row">
        <div class="form-group">
          <label for="firstName">First Name</label>
          <input 
            *ngIf="isEditing"
            type="text" 
            id="firstName"
            [(ngModel)]="userProfile.firstName"
            (ngModelChange)="onProfileChange()"
            class="form-input"
            placeholder="Enter first name">
          <div *ngIf="!isEditing" class="readonly-field">
            {{ userProfile.firstName }}
          </div>
        </div>

        <div class="form-group">
          <label for="lastName">Last Name</label>
          <input 
            *ngIf="isEditing"
            type="text" 
            id="lastName"
            [(ngModel)]="userProfile.lastName"
            (ngModelChange)="onProfileChange()"
            class="form-input"
            placeholder="Enter last name">
          <div *ngIf="!isEditing" class="readonly-field">
            {{ userProfile.lastName }}
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input 
          *ngIf="isEditing"
          type="email" 
          id="email"
          [(ngModel)]="userProfile.email"
          (ngModelChange)="onProfileChange()"
          class="form-input"
          placeholder="Enter email address">
        <div *ngIf="!isEditing" class="readonly-field">
          {{ userProfile.email }}
        </div>
      </div>

      <div class="form-group">
        <label for="phone">Phone Number</label>
        <input 
          *ngIf="isEditing"
          type="tel" 
          id="phone"
          [(ngModel)]="userProfile.phone"
          (ngModelChange)="onProfileChange()"
          class="form-input"
          placeholder="Enter phone number">
        <div *ngIf="!isEditing" class="readonly-field">
          {{ userProfile.phone }}
        </div>
      </div>

      <div class="form-group">
        <label for="location">Location</label>
        <input 
          *ngIf="isEditing"
          type="text" 
          id="location"
          [(ngModel)]="userProfile.location"
          (ngModelChange)="onProfileChange()"
          class="form-input"
          placeholder="Enter location">
        <div *ngIf="!isEditing" class="readonly-field">
          {{ userProfile.location }}
        </div>
      </div>

      <div class="form-group">
        <label for="website">Website</label>
        <input 
          *ngIf="isEditing"
          type="url" 
          id="website"
          [(ngModel)]="userProfile.website"
          (ngModelChange)="onProfileChange()"
          class="form-input"
          placeholder="Enter website URL">
        <div *ngIf="!isEditing" class="readonly-field">
          <a [href]="userProfile.website" target="_blank" rel="noopener noreferrer">
            {{ userProfile.website }}
            <i class="fas fa-external-link-alt"></i>
          </a>
        </div>
      </div>

      <div class="form-group">
        <label for="bio">Bio</label>
        <textarea 
          *ngIf="isEditing"
          id="bio"
          [(ngModel)]="userProfile.bio"
          (ngModelChange)="onProfileChange()"
          class="form-textarea"
          rows="4"
          placeholder="Tell us about yourself..."></textarea>
        <div *ngIf="!isEditing" class="readonly-field bio-field">
          {{ userProfile.bio }}
        </div>
      </div>

      <!-- Save Status -->
      <div class="save-status" *ngIf="isDirty && isEditing">
        <i class="fas fa-exclamation-triangle"></i>
        You have unsaved changes.
      </div>
    </div>
  </div>
</div>
